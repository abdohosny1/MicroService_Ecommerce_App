version: '3.4'

services:
  catalogdb:
       image: mongo

  basketdb:
       image: redis:alpine

  portainer:
       image: portainer/portainer-ce


  catalogapi:
    image: ${DOCKER_REGISTRY-}catalogapi
    build:
      context: .
      dockerfile: src/Catalog/CatalogApi/Dockerfile 

  basketapii:
    image: ${DOCKER_REGISTRY-}basketapii
    build:
      context: .
      dockerfile: src/Basket/BasketApii/Dockerfile

volumes:
  mongo_data:
  portainer_data: